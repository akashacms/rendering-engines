<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Configuring the Renderers package</title>
        
        <link rel="stylesheet" type="text/css" href="style.css"/>
        
        <link rel="stylesheet" type="text/css" href="vendor/bootstrap/css/bootstrap.css"/>
        
        <link rel="stylesheet" type="text/css" href="https://unpkg.com/@highlightjs/cdn-assets@11.6.0/styles/default.min.css"/>
        
        
    </head>
    <body>
        <head class="container-fluid">
        <h1>Configuring the Renderers package</h1>
        </head>
        <div class="container-md">
            <div class="row">
                <article class="col">
                    <p>The primary application interface to <code class="hljs"><span class="hljs-meta">@akashacms</span>/renderers</code> is the <code class="hljs">Renderers.<span class="hljs-keyword">Configuration</span></code> class.  It is used to find the correct Renderer instance for a given document, and to search for layout or partial templates.</p>
<p>This object is instantiated this way:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> <span class="hljs-title class_">Renderers</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@akashacms/renderers&#x27;</span>;

<span class="hljs-keyword">const</span> renderers = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Renderers</span>.<span class="hljs-title class_">Configuration</span>({
    <span class="hljs-comment">// options object -- ConfigurationParams</span>
});
</code></pre>
<p>The options object is defined by the <code class="hljs"><span class="hljs-attribute">ConfigurationParams</span></code> type.  This is defined as so:</p>
<pre><code class="hljs language-js"><span class="hljs-keyword">export</span> type <span class="hljs-title class_">ConfigurationParams</span> = {
    partialDirs?: <span class="hljs-title class_">Array</span>&lt;string&gt;;
    findPartial?: <span class="hljs-function">(<span class="hljs-params">fn</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;string&gt;;
    findPartialSync?: <span class="hljs-function">(<span class="hljs-params">fn</span>) =&gt;</span> string;
    layoutDirs?: <span class="hljs-title class_">Array</span>&lt;string&gt;;
    findLayout?: <span class="hljs-function">(<span class="hljs-params">fn</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;string&gt;;
    findLayoutSync?: <span class="hljs-function">(<span class="hljs-params">fn</span>) =&gt;</span> string;

    partial?: <span class="hljs-function">(<span class="hljs-params">fn, metadata</span>) =&gt;</span> <span class="hljs-title class_">Promise</span>&lt;string&gt;;
    partialSync?: <span class="hljs-function">(<span class="hljs-params">fn, metadata</span>) =&gt;</span> string;
};
</code></pre>
<p>The <code class="hljs"><span class="hljs-attribute">partialDirs</span></code> and <code class="hljs"><span class="hljs-attribute">layoutDirs</span></code> values are arrays containing paths for directories.  The <code class="hljs"><span class="hljs-attribute">partialDirs</span></code> array is one or more directories containing partial templates, while the <code class="hljs"><span class="hljs-attribute">layoutDirs</span></code> array is for layout templates.  In both cases, if a template is required, there will be a search among the named directories for a template of the given name.</p>
<p>There is also a method, <code class="hljs"><span class="hljs-attribute">addPartialDir</span></code>, to add a directory to <code class="hljs"><span class="hljs-attribute">partialDirs</span></code>, and <code class="hljs"><span class="hljs-attribute">addLayoutDir</span></code> to add a directory to <code class="hljs"><span class="hljs-attribute">layoutDirs</span></code>.  There are accessor methods <code class="hljs"><span class="hljs-attribute">partialDirs</span></code>, and <code class="hljs"><span class="hljs-attribute">layoutDirs</span></code>, to retrieve the current list of directories.</p>
<p>The <code class="hljs"><span class="hljs-attribute">findPartial</span></code> and <code class="hljs"><span class="hljs-attribute">findPartialSync</span></code> parameters specify functions to search for partial templates.  There are default functions in the package that do a simple search over the named directories.  Your application may want to supply your own search algorithm.  The <code class="hljs"><span class="hljs-attribute">findLayout</span></code> and <code class="hljs"><span class="hljs-attribute">findLayoutSync</span></code> parameters do the same, but for layout templates.  The <code class="hljs"><span class="hljs-attribute">Sync</span></code> functions use only sycnhronous operations to search for templates, while the non-Sync versions are asynchronous and return a Promise.</p>
<p>The <code class="hljs"><span class="hljs-keyword">partial</span></code> and <code class="hljs"><span class="hljs-attribute">partialSync</span></code> parameters specify functions for rendering partial templates.  The <code class="hljs"><span class="hljs-attribute">fn</span></code> parameter is the file name for the template, while the <code class="hljs"><span class="hljs-attribute">metadata</span></code> parameter is the data to use during template rendering.  Default functions are supplied in the package.  However, your application may want to supply a different implementation.  The <code class="hljs"><span class="hljs-attribute">Sync</span></code> function uses only synchronous operations.</p>
<p>To render a partial template, call either <code class="hljs"><span class="hljs-keyword">partial</span></code> or <code class="hljs"><span class="hljs-attribute">partialSync</span></code>.</p>
<p>Within the <code class="hljs"><span class="hljs-meta">@akashacms</span>/renderers</code> package is the <code class="hljs"><span class="hljs-attribute">Renderer</span></code> class, and several subclasses for the built-in Renderer implementations.  This class is the interface between the package and the supported rendering packages.  When the Configuration is instantiated, the built-in Renderer implementations are automatically added.</p>
<p>Your application may want to use other Renderers.  To do so, create a Renderer subclass, then call the <code class="hljs"><span class="hljs-attribute">registerRenderer</span></code> method.</p>

                </article>
                <section class="col-2">
                    <div class="btn-group-vertical" role="group" 
                            aria-label="Vertical button group">
                        <a href="index.html" class="btn btn-primary">Overview</a>
                        <a href="setup.html" class="btn btn-primary">Getting Started</a>
                        <a href="rendering.html" class="btn btn-primary">Rendering</a>
                        <a href="renderers.html" class="btn btn-primary">Renderers</a>
                        <a href="configuration.html" class="btn btn-primary">Configuration</a>
                        <a href="configuring-markdown.html" class="btn btn-primary">Configuring Markdown</a>
                        <a href="guidecms.html" class="btn btn-primary">GuideCMS</a>
                    </div>
                </section>
            </div>
        </div>
        
        <script src="vendor/bootstrap/js/bootstrap.bundle.js"></script>
        
        <script src="https://unpkg.com/@highlightjs/cdn-assets@11.6.0/highlight.min.js"></script>
        

        <script>
            try {
                hljs.initHighlightingOnLoad();
            } catch (err) { }
        </script>
    </body>
</html>